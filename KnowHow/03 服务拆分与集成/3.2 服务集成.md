#### 服务集成

服务之间势必需要集成，而这种集成关系在微服务架构中远比简单的api要复杂的多。

##### 1.1 系统集成基础

业界关于系统集成存在一些主流的模式和工程实践，包括文件传输、共享数据库、远程调用（RPC）和消息传递（Message）。

以上四种主流的集成方式各有优缺点。文件传输最大的挑战在于如何进行文件的更新和同步；如果使用共享数据库，在多方共享的条件下如何确保数据的一致性也是一个大问题；RPC容易产生瓶颈节点；而消息传递在松耦合的情况下也加大了系统的复杂性。RPC和消息传递面对的都是分布式环境下的远程调用，远程调用区别于内部方法调用，一方面网络不一定可靠，另一方面集成通常面对的是一些异构系统。

对于微服务而言，集成的思路是尽量采用标准化的数据结构并降低系统集成的耦合度。微服务架构中，系统之间的集成分为以下四大类。

![服务集成的四种模式](D:\documents\技术文档\md\MicroServices\KnowHow\00 common\images\03\服务集成的四种模式.png)

- 接口集成

  通常基于业务逻辑的需要进行集成，RPC、REST、消息传递和服务总线都归于这一集成。

- 数据集成

  可用于服务之间的交互，共享数据库是一个选择，但也可以通过数据复制的方式实现集成。

- 客户端集成

  微服务之间可以通过UI界面进行集成。

- 外部集成

  集成需求来自于外部服务的依赖和整合，而在集成方式上可以综合接口集成、数据集成和UI集成。

